function validateEmail(t){return!!/(?:[a-z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-z0-9!#$%&'*+/=?^_`{|}~-]+)*|"(?:[\x01-\x08\x0b\x0c\x0e-\x1f\x21\x23-\x5b\x5d-\x7f]|\\[\x01-\x09\x0b\x0c\x0e-\x7f])*")@(?:(?:[a-z0-9](?:[a-z0-9-]*[a-z0-9])?\.)+[a-z0-9](?:[a-z0-9-]*[a-z0-9])?|\[(?:(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\.){3}(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?|[a-z0-9-]*[a-z0-9]:(?:[\x01-\x08\x0b\x0c\x0e-\x1f\x21-\x5a\x53-\x7f]|\\[\x01-\x09\x0b\x0c\x0e-\x7f])+)\])/.test(t)}document.addEventListener("alpine:init",(()=>{Alpine.data("form",(()=>({amount:75,choice:"",total:0,amountDefaults:{Monthly:40,"One-off":100},amountOptions:{Monthly:["20","50","75","100","other"],"One-off":["20","50","75","100","other"]},frequency:"Monthly",name_first:"",name_last:"",phone:"",email:"",company:"",payment_by:"Individual",mailing_street:"",mailing_city:"",mailing_state:"",mailing_postal_code:"",mailing_country:"AU",_errors:{},_loaded:!1,_max:1,_submit:!1,_stage:1,init(){this.total=this.amount,this.$watch("frequency",(t=>{this.amountOptions[t].includes(this.amount)||this.$nextTick((()=>{this.amount=this.amountDefaults[t]}))})),this.$watch("amount",(t=>{this.total=t,"other"==t?this.$refs.choice.focus():this.choice=""})),this.$watch("choice",(t=>{this.total=t})),this.$watch("name_first",(t=>{this._errors.name_first=!t})),this.$watch("name_last",(t=>{this._errors.name_last=!t})),this.$watch("phone",(t=>{this._errors.phone=!1,this.isMonthly&&(this._errors.phone=!t)})),this.$watch("email",(t=>{this._errors.email=!t})),this.$watch("mailing_street",(t=>{this._errors.mailing_street=!1,this.isMonthly&&(this._errors.mailing_street=!t)})),this.$watch("mailing_city",(t=>{this._errors.mailing_city=!1,this.isMonthly&&(this._errors.mailing_city=!t)})),this.$watch("mailing_state",(t=>{this._errors.mailing_state=!1,this.isMonthly&&(this._errors.mailing_state=!t)})),this.$watch("mailing_postal_code",(t=>{this._errors.mailing_postal_code=!1,this.isMonthly&&(this._errors.mailing_postal_code=!t)})),window.onpopstate=t=>{this._submit&&history.go(-2)}},get isMonthly(){return"Monthly"===this.frequency},goTo(t){t<=this._max&&this.switchStage(t)},progress(){this.switchStage(this._stage+1)},switchStage(t){if(this._stage==t)return;if(this._errors={},2==this._stage&&t>this._stage&&(this.name_first||(this._errors.name_first=!0),this.name_last||(this._errors.name_last=!0),this.email&&validateEmail(this.email)||(this._errors.email=!0),this.isMonthly&&(this.phone||(this._errors.phone=!0),this.mailing_street||(this._errors.mailing_street=!0),this.mailing_city||(this._errors.mailing_city=!0),this.mailing_state||(this._errors.mailing_state=!0),this.mailing_postal_code||(this._errors.mailing_postal_code=!0)),Object.keys(this._errors).length))return;let i=this.$refs.wrapper;const s=this.$refs["stage-"+this._stage];i.style.height=s?s.offsetHeight+"px":"0px",this._stage=t,this._stage>this._max&&(this._max=this._stage),3==this._stage?(window.history.pushState("donate",null,null),this.$refs.donationIntroForm.submit(),this._submit=!0):(this._submit=!1,this._loaded=!1),this.$nextTick((()=>{const t=this.$refs["stage-"+this._stage];t&&(i.style.height=t.offsetHeight+"px"),setTimeout((()=>{i.style.height=""}),300),setTimeout((()=>{document.getElementById("demo-form-top").scrollIntoView({behavior:"smooth"})}),500)}))},formLoaded(t){3==this._stage&&(this._loaded=!0)}})))}));